!function(n){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.flyd=n()}}(function(){return function n(e,t,r){function u(o,a){if(!t[o]){if(!e[o]){var s="function"==typeof require&&require;if(!a&&s)return s(o,!0);if(i)return i(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var f=t[o]={exports:{}};e[o][0].call(f.exports,function(n){var t=e[o][1][n];return u(t?t:n)},f,f.exports,n,e,t,r)}return t[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)u(r[o]);return u}({1:[function(n,e,t){"use strict";function r(n){return!!(n&&n.constructor&&n.call&&n.apply)}function u(){return!0}function i(n,e){var t,r,i,o,a=f([],u);for(i=[],o=[],t=0;t<e.length;++t)void 0!==e[t]&&(i.push(e[t]),void 0!==e[t].end&&o.push(e[t].end));return r=f(i,n),r.depsChanged=[],r.fnArgs=r.deps.concat([r,r.depsChanged]),r.end=a,a.listeners.push(r),m(o,a),a.deps=o,l(r),r}function o(n){return b.map(n,this)}function a(n){var e=this;return i(function(n,e,t){t(n.val(e.val))},[e,n])}function s(){return"stream("+this.val+")"}function c(){function n(e){return 0===arguments.length?n.val:(g(n,e),n)}return n.hasVal=!1,n.val=void 0,n.vals=[],n.listeners=[],n.queued=!1,n.end=void 0,n.map=o,n.ap=a,n.of=b.stream,n.toString=s,n}function f(n,e){var t=c();return t.fn=e,t.deps=n,t.depsMet=!1,t.depsChanged=n.length>0?[]:void 0,t.shouldUpdate=!1,m(n,t),t}function d(n){return n.depsMet=n.deps.every(function(n){return n.hasVal}),!n.depsMet}function l(n){if(!(n.depsMet!==!0&&d(n)||void 0!==n.end&&n.end.val===!0)){if(void 0!==q)return void M.push(n);q=n,n.depsChanged&&(n.fnArgs[n.fnArgs.length-1]=n.depsChanged);var e=n.fn.apply(n.fn,n.fnArgs);void 0!==e&&n(e),q=void 0,void 0!==n.depsChanged&&(n.depsChanged=[]),n.shouldUpdate=!1,V===!1&&v()}}function p(n){var e,t,r,u=n.listeners;for(e=0;e<u.length;++e)r=u[e],r.end===n?C(r):(void 0!==r.depsChanged&&r.depsChanged.push(n),r.shouldUpdate=!0,h(r));for(;U>=0;--U)t=O[U],t.shouldUpdate===!0&&l(t),t.queued=!1}function h(n){var e,t=n.listeners;if(n.queued===!1){for(n.queued=!0,e=0;e<t.length;++e)h(t[e]);O[++U]=n}}function v(){for(V=!0;M.length>0;){var n=M.shift();n.vals.length>0&&(n.val=n.vals.shift()),p(n)}V=!1}function g(n,e){return void 0!==e&&null!==e&&r(e.then)?void e.then(n):(n.val=e,n.hasVal=!0,void(void 0===q?(V=!0,p(n),M.length>0?v():V=!1):q===n?y(n,n.listeners):(n.vals.push(e),M.push(n))))}function y(n,e){var t,r;for(t=0;t<e.length;++t)r=e[t],r.end!==n?(void 0!==r.depsChanged&&r.depsChanged.push(n),r.shouldUpdate=!0):C(r)}function m(n,e){for(var t=0;t<n.length;++t)n[t].listeners.push(e)}function _(n,e){var t=e.indexOf(n);e[t]=e[e.length-1],e.length--}function x(n){for(var e=0;e<n.deps.length;++e)_(n,n.deps[e].listeners);n.deps.length=0}function C(n){void 0!==n.deps&&x(n),void 0!==n.end&&x(n.end)}function w(){}var q,N=n("ramda/src/curryN"),M=[],O=[],U=-1,V=!1,b={};b.stream=function(n){var e=f([],u),t=c();return t.end=e,t.fnArgs=[],e.listeners.push(t),t.toJSON=function(){return t()},arguments.length>0&&t(n),t},b.combine=N(2,i),b.isStream=function(n){return r(n)&&"hasVal"in n},b.immediate=function(n){return n.depsMet===!1&&(n.depsMet=!0,l(n)),n},b.endsOn=function(n,e){return x(e.end),n.listeners.push(e.end),e.end.deps.push(n),e},b.map=N(2,function(n,e){return i(function(e,t){t(n(e.val))},[e])}),b.on=N(2,function(n,e){return i(function(e){n(e.val)},[e])}),b.scan=N(3,function(n,e,t){var r=i(function(t,r){r(e=n(e,t.val))},[t]);return r.hasVal||r(e),r}),b.merge=N(2,function(n,e){var t=b.immediate(i(function(n,e,t,r){r[0]?t(r[0]()):n.hasVal?t(n.val):e.hasVal&&t(e.val)},[n,e]));return b.endsOn(i(function(){return!0},[n.end,e.end]),t),t}),b.transduce=N(2,function(n,e){return n=n(new w),i(function(e,t){var r=n["@@transducer/step"](void 0,e.val);return r&&r["@@transducer/reduced"]===!0?(t.end(!0),r["@@transducer/value"]):r},[e])}),b.curryN=N,w.prototype["@@transducer/init"]=function(){},w.prototype["@@transducer/result"]=function(){},w.prototype["@@transducer/step"]=function(n,e){return e},e.exports=b},{"ramda/src/curryN":2}],2:[function(n,e,t){var r=n("./internal/_arity"),u=n("./internal/_curry1"),i=n("./internal/_curry2"),o=n("./internal/_curryN");e.exports=i(function(n,e){return 1===n?u(e):r(n,o(n,[],e))})},{"./internal/_arity":3,"./internal/_curry1":4,"./internal/_curry2":5,"./internal/_curryN":6}],3:[function(n,e,t){e.exports=function(n,e){switch(n){case 0:return function(){return e.apply(this,arguments)};case 1:return function(n){return e.apply(this,arguments)};case 2:return function(n,t){return e.apply(this,arguments)};case 3:return function(n,t,r){return e.apply(this,arguments)};case 4:return function(n,t,r,u){return e.apply(this,arguments)};case 5:return function(n,t,r,u,i){return e.apply(this,arguments)};case 6:return function(n,t,r,u,i,o){return e.apply(this,arguments)};case 7:return function(n,t,r,u,i,o,a){return e.apply(this,arguments)};case 8:return function(n,t,r,u,i,o,a,s){return e.apply(this,arguments)};case 9:return function(n,t,r,u,i,o,a,s,c){return e.apply(this,arguments)};case 10:return function(n,t,r,u,i,o,a,s,c,f){return e.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}},{}],4:[function(n,e,t){var r=n("./_isPlaceholder");e.exports=function(n){return function e(t){return 0===arguments.length||r(t)?e:n.apply(this,arguments)}}},{"./_isPlaceholder":7}],5:[function(n,e,t){var r=n("./_curry1"),u=n("./_isPlaceholder");e.exports=function(n){return function e(t,i){switch(arguments.length){case 0:return e;case 1:return u(t)?e:r(function(e){return n(t,e)});default:return u(t)&&u(i)?e:u(t)?r(function(e){return n(e,i)}):u(i)?r(function(e){return n(t,e)}):n(t,i)}}}},{"./_curry1":4,"./_isPlaceholder":7}],6:[function(n,e,t){var r=n("./_arity"),u=n("./_isPlaceholder");e.exports=function n(e,t,i){return function(){for(var o=[],a=0,s=e,c=0;c<t.length||a<arguments.length;){var f;c<t.length&&(!u(t[c])||a>=arguments.length)?f=t[c]:(f=arguments[a],a+=1),o[c]=f,u(f)||(s-=1),c+=1}return s<=0?i.apply(this,o):r(s,n(e,o,i))}}},{"./_arity":3,"./_isPlaceholder":7}],7:[function(n,e,t){e.exports=function(n){return null!=n&&"object"==typeof n&&n["@@functional/placeholder"]===!0}},{}]},{},[1])(1)});